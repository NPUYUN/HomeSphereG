# HomeSphereG 智能家居生态系统 v2.0

## 项目概述

HomeSphereG是一个功能完整的智能家居生态系统，旨在为用户提供便捷、智能的家居管理体验。系统支持多用户、多家庭户管理，设备智能控制，自动化场景设置，以及能耗统计和减排分析等功能。

## 系统架构

系统采用模块化设计，主要包含以下核心包：

- **Common**: 系统核心类和接口，包括主控制器和命令模式接口
- **UserAndHousehold**: 用户、家庭户和房间管理相关类
- **DeviceEquipment**: 设备抽象、具体设备实现和工厂模式接口
- **AutomatedWorkflow**: 自动化场景、触发器和命令模式实现
- **EmissionReduction**: 能耗统计、日志记录和多格式输出功能
- **NormalException**: 自定义异常类，用于错误处理

## 核心功能

### 1. 用户与权限管理
- 用户注册、登录和注销
- 基于角色的权限控制（管理员/普通用户）
- 多用户家庭户成员管理

### 2. 家庭户与房间管理
- 创建和管理多个家庭户
- 添加和配置不同房间
- 房间内设备组织和管理

### 3. 智能设备控制
- 支持多种设备类型（空调、灯泡、智能锁等）
- 设备在线状态监控
- 远程开关和参数调节

### 4. 自动化场景
- 创建自定义自动化场景
- 支持时间触发和设备状态触发
- 批量设备操作和场景手动触发

### 5. 能耗统计与减排分析
- 设备运行日志记录
- 多格式报表生成（HTML、JSON、XML）
- 能耗数据分析和减排建议

## 设计模式应用

### 1. 单例模式
- HomeSphereSystem类采用单例模式实现，确保系统全局只有一个控制实例

### 2. 工厂模式
- DeviceFactory接口用于创建不同类型的智能设备

### 3. 观察者模式
- DeviceObserver接口实现设备状态变化的监听和通知

### 4. 命令模式
- DeviceCommand接口及其实现类封装设备操作，支持自动化场景中的批量设备控制

### 5. 策略模式
- RunningLogFormatter接口的不同实现支持多格式日志输出（HTML、JSON、XML）

## 项目结构

```
HomeSphereG/
├── README.md                   # 项目说明文档
├── data/                       # 数据文件目录
│   ├── 1.html                  # HTML格式日志示例
│   ├── 1.json                  # JSON格式日志示例
│   └── 1.xml                   # XML格式日志示例
├── image/                      # 图片资源目录
│   ├── html展示.png             # HTML报表展示图
│   ├── json展示1.png           # JSON报表展示图1
│   ├── json展示2.png           # JSON报表展示图2
│   ├── json展示3.png           # JSON报表展示图3
│   ├── xml展示.png              # XML报表展示图
│   ├── 单例模式类图.png         # 单例模式类图
│   ├── 工厂模式类图.png         # 工厂模式类图
│   └── 策略模式类图.png         # 策略模式类图
├── main/src/                   # 源代码目录
│   ├── AutomatedWorkflow/      # 自动化工作流相关类
│   ├── Common/                 # 系统核心类和接口
│   ├── DeviceEquipment/        # 设备相关类和接口
│   ├── EmissionReduction/      # 能耗统计相关类
│   ├── NormalException/        # 自定义异常类
│   └── UserAndHousehold/       # 用户和家庭户管理类
└── out/production/HomeSphereG/  # 编译输出目录
```

## 系统亮点

1. **模块化设计**：清晰的包结构和职责划分，便于维护和扩展
2. **多设计模式应用**：合理运用单例、工厂、观察者、命令和策略等设计模式
3. **多格式数据输出**：支持HTML、JSON、XML多种格式的日志和报表生成
4. **完善的错误处理**：自定义异常类处理各种可能的错误情况
5. **灵活的自动化场景**：支持多种触发条件和设备操作组合

## 使用说明

1. 启动系统后，使用默认管理员账户登录（用户名：administrator，密码：111111）
2. 注册新用户并创建家庭户
3. 添加房间和智能设备
4. 配置自动化场景和触发器
5. 查看能耗统计和减排分析报表

## 技术栈

- **编程语言**：Java
- **设计模式**：单例模式、工厂模式、观察者模式、命令模式、策略模式
- **数据格式**：支持HTML、JSON、XML
- **日志系统**：自定义运行日志记录


